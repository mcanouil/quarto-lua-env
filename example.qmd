---
title: "lua-env Example"
format: html
filters:
  - lua-env
extensions:
  lua-env:
    json: true  # Export metadata to lua-env.json
---

## Shortcodes

### Quarto

:::: {layout-ncol="2"}

:::: {}

```markdown
{{{< lua-env quarto.doc.input_file >}}}
```

{{< lua-env quarto.doc.input_file >}}

:::

:::: {}

```markdown
{{{< meta lua-env.quarto.doc.input_file >}}}
```

{{< meta lua-env.quarto.doc.input_file >}}

:::
:::

### Pandoc

:::: {layout-ncol="2"}
:::: {}

```markdown
{{{< lua-env pandoc.PANDOC_VERSION >}}}
```

{{< lua-env pandoc.PANDOC_VERSION >}}

:::
:::: {}

```markdown
{{{< meta lua-env.pandoc.PANDOC_VERSION >}}}
```

{{< meta lua-env.pandoc.PANDOC_VERSION >}}

:::
:::

:::: {layout-ncol="2"}
:::: {}

```markdown
{{{< lua-env pandoc.FORMAT >}}}
```

{{< lua-env pandoc.FORMAT >}}

:::
:::: {}

```markdown
{{{< meta lua-env.pandoc.FORMAT >}}}
```

{{< meta lua-env.pandoc.FORMAT >}}

:::
:::

## JSON Export

This document is configured to export the `lua-env` metadata to a JSON file.

By default, no JSON file is written (`json: false`). To enable JSON export, set `json: true` or provide a custom file path.

The YAML header includes:

```yaml
extensions:
  lua-env:
    json: true  # Export metadata to lua-env.json
```

This will create a file named `lua-env.json` in the same directory as this document, containing all the LUA environment metadata collected during rendering.

You can also specify a custom file path:

```yaml
extensions:
  lua-env:
    json: "custom-output.json"
```
